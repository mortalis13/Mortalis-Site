jQuery(function($){var toTop,footer,intersect,bottom,origBottom,restore,bottomChanged=false;toTop=$("#go_to_top");footer=$(".footer-content");function isHIntersect(){var windowWidth,footerWidth,sideDistance,toTopWidth,diff,right;windowWidth=$(window).width();footerWidth=footer.outerWidth();sideDistance=(windowWidth-footerWidth)/2;right=parseInt(toTop.css("right"),10);toTopWidth=toTop.width()+right;diff=sideDistance-toTopWidth;if(diff<0)return true;return false}origBottom=parseInt(toTop.css("bottom"),10);$(window).scroll(function(){intersect=isHIntersect();restore=false;if(intersect){var toTopOffset,footerOffset,footerHeight,diff;bottom=parseInt(toTop.css("bottom"),10);toTopOffset=toTop.offset().top+toTop.height()+bottom;footerOffset=footer.offset().top;diff=toTopOffset-footerOffset;if(diff>0){toTop.css("bottom",origBottom+diff);bottomChanged=true}else restore=true}else restore=true;if(restore&&bottomChanged){if(intersect){toTop.css("bottom",origBottom);bottomChanged=false}else{toTop.animate({bottom:origBottom},500);bottomChanged=false}}})});